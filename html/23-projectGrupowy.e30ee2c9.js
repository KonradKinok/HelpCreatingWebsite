var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var a=t[e];delete t[e];var i={id:e,exports:{}};return n[e]=i,a.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){t[e]=n},e.parcelRequired7c6=a);var i=a("2shzp");i.default.defaults.headers.common.Authorization="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YmI4OTQ0OTRjMWE3MDc2MTg2NDhiOTE2NGYzOTNjMiIsInN1YiI6IjVlZDdiZmY3ZTRiNTc2MDAyMDM3NjYzZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.kRGs0WRoomKwYXT7Mt8PNU2Zk6kAVasud5CyVVdf2mA";const r=document.querySelector(".loader");function o(){r.style.display="none"}const d=document.querySelector("span#logo"),c=document.querySelector("ul#cards-list"),s=document.querySelector("div#pagination-new"),l=document.querySelector("ul#pagination-new-list"),u=s.querySelector("button#pagination-btn-left"),p=s.querySelector("button#pagination-btn-right");let m=!0;function g(e){e>500&&(e=500),async function(e){const n=`https://api.themoviedb.org/3/trending/movie/day?${new URLSearchParams({language:"en-US",page:e})}`;return(await i.default.get(n)).data}(e).then((e=>{!function(e){c.innerHTML=null;let n=e.total_pages;n>500&&(n=500);const t=e.page,a=e.results.map((({id:e,title:n,poster_path:t,release_date:a,genre_ids:i,vote_average:r})=>{const o=function(e){const n="https://image.tmdb.org/t/p/";return["w92","w154","w185","w342","w500","w780","original"].map((t=>({name:t,url:n+t+e})))}(t),d=(o.find((e=>"w92"===e.name)),o.find((e=>"w154"===e.name))),c=o.find((e=>"w185"===e.name)),s=o.find((e=>"w342"===e.name)),l=o.find((e=>"w500"===e.name)),u=o.find((e=>"w780"===e.name)),p=o.find((e=>"original"===e.name)),m=function(e){const n=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}].filter((n=>e.includes(n.id))).map((e=>e.name));return n.join(", ")}(i),g=a.split("-")[0],w=r.toFixed(1);return`<li>\n            <div class="card" data-id="${e}">\n              <div >\n                <img class="card-img"\n                  alt="${n}"\n                  src="${d.url}"\n                  srcset="\n                    ${c.url} 185w,\n                    ${s.url} 342w,\n                    ${l.url} 500w,\n                    ${u.url} 780w\n                     ${p.url} 2000w\n                  "\n                  sizes="(min-width: 1157px) 780px, (min-width: 768px) 500px, (max-width: 767px) 342px, 100vw"\n                />\n              </div>\n              <div class="card-text">\n                <p class="card-text-title">${n}</p>\n                <p class="card-text-genre">${m} | ${g}</p>\n                <p class="card-text-genre">${w}</p>\n              </div>\n            </div>\n          </li>`})).join("");c.insertAdjacentHTML("beforeend",a),w&&w(n,t,g)}(e)})).catch((e=>{console.error(e)}))}function w(e,n,t){let a,i,r="",o=n-2,d=n+2;if(n>=1){u.dataset.page=""+(n-1),u.disabled=1===n,window.matchMedia("(min-width: 768px)").matches&&n>3&&(r+='<li class="pagination-new-numb" data-page="1"><span>1</span></li>',n>4&&(r+='<li class="pagination-new-dots">...</li>')),n==e&&(o-=1),1==n&&(d+=1);for(var c=o;c<=d;c++)c>e||c<=0||(n==c?(i="active",a="id = 'pagination-current-page'"):(i="",a=""),r+=`<li class="pagination-new-numb ${i}" ${a} data-page="${c}"><span>${c}</span></li>`);window.matchMedia("(min-width: 768px)").matches&&n<e-2&&(n<e-3&&(r+='<li class="pagination-new-dots">...</li>'),r+=`<li class="pagination-new-last pagination-new-numb" data-page="${e}"><span>${e}</span></li>`),n<e?(p.dataset.page=`${n+1}`,p.disabled=!1):n===e&&(p.disabled=!0),l.innerHTML=r;return l.querySelectorAll("li[data-page]").forEach((e=>{e.addEventListener("click",(e=>{const n=Number(e.currentTarget.getAttribute("data-page"));t(n)}))})),m&&(u.addEventListener("click",(e=>{const n=Number(e.currentTarget.getAttribute("data-page"));n>=1&&t(n)})),p.addEventListener("click",(n=>{const a=Number(n.currentTarget.getAttribute("data-page"));a<=e&&t(a)})),m=!1),window.scrollTo({top:0,behavior:"smooth"}),r}}d.addEventListener("click",(e=>{e.preventDefault();g(1)})),g(1);let f=null;!async function(){try{f=await async function(){const e=`https://api.themoviedb.org/3/genre/movie/list?${new URLSearchParams({language:"en-US"})}`;return(await i.default.get(e)).data}(),await f}catch(e){console.error(e)}}(),console.log("Pierwsze wywołanie",f);const h=document.querySelector(".search-form"),y=document.querySelector("ul#cards-list");let v;h&&h.addEventListener("submit",(async e=>{e.preventDefault(),y.innerHTML=" ";const n=document.querySelector("p.warning"),t=e.currentTarget.elements.searchQuery.value;v=t;try{const e=await async function(e){try{r.style.display="block";const n=`https://api.themoviedb.org/3/search/movie?query=${encodeURIComponent(e)}&api_key=d45c591dd3ef2fb9c22b9964b5ee2547`,t=await i.default.get(n);return o(),t.data}catch(e){throw o(),console.error("Wystąpił błąd podczas wyszukiwania:",e),e}}(v),a=e.results,d=await async function(){const e="https://api.themoviedb.org/3/genre/movie/list?language=en&api_key=6bb894494c1a707618648b9164f393c2";try{return(await i.default.get(e)).data.genres}catch(e){throw console.error("Wystąpił błąd podczas pobierania listy gatunków:",e),e}}();t===v&&(0===e.results.length?(console.log("Nie znaleziono filmów"),n.innerText="Search result not successful. Enter the correct movie name and"):function(e,n){const t=document.querySelector(".cards-list");e.forEach((e=>{const a=e.id,i=e.poster_path,r=e.genre_ids,o=[];r.forEach((e=>{const t=n.find((n=>n.id===e));t?o.push(t.name):o.push("Unknown")}));const d=e.title,c=e.release_date;let s=new Date(c).getFullYear();const l=document.createElement("div");l.classList.add("card"),l.innerHTML=`\n    <li>\n  <div class="card" data-id="${a}">\n    <div class="card-img">\n\n    <img src ="https://image.tmdb.org/t/p/original/${i}"/></div>\n    <div class="card-text">\n      <p class="card-text-title">${d}</p>\n      <p class="card-text-genre">${o.join(", ")} | ${s}</p>\n    </div>\n  </div>\n</li>\n    `,t.appendChild(l)}))}(a,d))}catch(e){console.error("Wystąpił błąd:",e)}}));
//# sourceMappingURL=23-projectGrupowy.e30ee2c9.js.map
