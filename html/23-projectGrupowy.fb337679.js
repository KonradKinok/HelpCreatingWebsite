!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){a[e]=n},n.parcelRequired7c6=r);var i=r("bpxeT"),c=r("2TvXO"),o=r("dIxxU");o.default.defaults.headers.common.Authorization="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YmI4OTQ0OTRjMWE3MDc2MTg2NDhiOTE2NGYzOTNjMiIsInN1YiI6IjVlZDdiZmY3ZTRiNTc2MDAyMDM3NjYzZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.kRGs0WRoomKwYXT7Mt8PNU2Zk6kAVasud5CyVVdf2mA";var s=document.querySelector(".loader");function u(){s.style.display="block"}function d(){s.style.display="none"}var l=document.querySelector("span#logo"),p=document.querySelector("ul#cards-list"),f=document.querySelector("div#pagination-new"),m=document.querySelector("ul#pagination-new-list"),g=f.querySelector("button#pagination-btn-left"),v=f.querySelector("button#pagination-btn-right"),h=!0;function w(){return(w=e(i)(e(c).mark((function n(t){var a,r,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams({language:"en-US",page:t}),r="https://api.themoviedb.org/3/trending/movie/day?".concat(a),e.next=4,o.default.get(r);case 4:return i=e.sent,e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function y(e){e>500&&(e=500),function(e){return w.apply(this,arguments)}(e).then((function(e){!function(e){p.innerHTML=null;var n=e.total_pages;n>500&&(n=500);var t=e.page,a=e.results.map((function(e){var n,t,a=e.id,r=e.title,i=e.poster_path,c=e.release_date,o=e.genre_ids,s=e.vote_average,u=(n=i,t="https://image.tmdb.org/t/p/",["w92","w154","w185","w342","w500","w780","original"].map((function(e){return{name:e,url:t+e+n}}))),d=(u.find((function(e){return"w92"===e.name})),u.find((function(e){return"w154"===e.name}))),l=u.find((function(e){return"w185"===e.name})),p=u.find((function(e){return"w342"===e.name})),f=u.find((function(e){return"w500"===e.name})),m=u.find((function(e){return"w780"===e.name})),g=u.find((function(e){return"original"===e.name})),v=function(e){return[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}].filter((function(n){return e.includes(n.id)})).map((function(e){return e.name})).join(", ")}(o),h=c.split("-")[0],w=s.toFixed(1);return'<li>\n            <div class="card" data-id="'.concat(a,'">\n              <div >\n                <img class="card-img"\n                  alt="').concat(r,'"\n                  src="').concat(d.url,'"\n                  srcset="\n                    ').concat(l.url," 185w,\n                    ").concat(p.url," 342w,\n                    ").concat(f.url," 500w,\n                    ").concat(m.url," 780w\n                     ").concat(g.url,' 2000w\n                  "\n                  sizes="(min-width: 1157px) 780px, (min-width: 768px) 500px, (max-width: 767px) 342px, 100vw"\n                />\n              </div>\n              <div class="card-text">\n                <p class="card-text-title">').concat(r,'</p>\n                <p class="card-text-genre">').concat(v," | ").concat(h,'</p>\n                <p class="card-text-genre">').concat(w,"</p>\n              </div>\n            </div>\n          </li>")})).join("");p.insertAdjacentHTML("beforeend",a),b&&b(n,t,y)}(e)})).catch((function(e){console.error(e)}))}function b(e,n,t){var a,r,i="",c=n-2,o=n+2;if(n>=1){g.dataset.page="".concat(n-1),g.disabled=1===n,window.matchMedia("(min-width: 768px)").matches&&n>3&&(i+='<li class="pagination-new-numb" data-page="1"><span>1</span></li>',n>4&&(i+='<li class="pagination-new-dots">...</li>')),n==e&&(c-=1),1==n&&(o+=1);for(var s=c;s<=o;s++)s>e||s<=0||(n==s?(r="active",a="id = 'pagination-current-page'"):(r="",a=""),i+='<li class="pagination-new-numb '.concat(r,'" ').concat(a,' data-page="').concat(s,'"><span>').concat(s,"</span></li>"));return window.matchMedia("(min-width: 768px)").matches&&n<e-2&&(n<e-3&&(i+='<li class="pagination-new-dots">...</li>'),i+='<li class="pagination-new-last pagination-new-numb" data-page="'.concat(e,'"><span>').concat(e,"</span></li>")),n<e?(v.dataset.page="".concat(n+1),v.disabled=!1):n===e&&(v.disabled=!0),m.innerHTML=i,m.querySelectorAll("li[data-page]").forEach((function(e){e.addEventListener("click",(function(e){var n=Number(e.currentTarget.getAttribute("data-page"));t(n)}))})),h&&(g.addEventListener("click",(function(e){var n=Number(e.currentTarget.getAttribute("data-page"));n>=1&&t(n)})),v.addEventListener("click",(function(n){var a=Number(n.currentTarget.getAttribute("data-page"));a<=e&&t(a)})),h=!1),window.scrollTo({top:0,behavior:"smooth"}),i}}l.addEventListener("click",(function(e){e.preventDefault();y(1)})),y(1);var x=null;function T(){return(T=e(i)(e(c).mark((function n(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:return x=e.sent,e.next=6,x;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}function k(){return M.apply(this,arguments)}function M(){return(M=e(i)(e(c).mark((function n(){var t,a,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({language:"en-US"}),a="https://api.themoviedb.org/3/genre/movie/list?".concat(t),e.next=4,o.default.get(a);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),n)})))).apply(this,arguments)}!function(){T.apply(this,arguments)}(),console.log("Pierwsze wywołanie",x);var S,q,L=document.querySelector(".search-form"),N=document.querySelector("ul#cards-list");function _(){return E.apply(this,arguments)}function E(){return(E=e(i)(e(c).mark((function n(){var t;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/genre/movie/list?language=en&api_key=6bb894494c1a707618648b9164f393c2",e.prev=1,e.next=4,o.default.get("https://api.themoviedb.org/3/genre/movie/list?language=en&api_key=6bb894494c1a707618648b9164f393c2");case 4:return t=e.sent,e.abrupt("return",t.data.genres);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("Wystąpił błąd podczas pobierania listy gatunków:",e.t0),e.t0;case 12:case"end":return e.stop()}}),n,null,[[1,8]])})))).apply(this,arguments)}function I(e){return z.apply(this,arguments)}function z(){return(z=e(i)(e(c).mark((function n(t){var a,r,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(),a=encodeURIComponent(t),r="https://api.themoviedb.org/3/search/movie?query=".concat(a,"&api_key=d45c591dd3ef2fb9c22b9964b5ee2547"),e.next=6,o.default.get(r);case 6:return i=e.sent,d(),e.abrupt("return",i.data);case 11:throw e.prev=11,e.t0=e.catch(0),d(),console.error("Wystąpił błąd podczas wyszukiwania:",e.t0),e.t0;case 16:case"end":return e.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}function A(e,n){var t=document.querySelector(".cards-list");e.forEach((function(e){var a=e.id,r=e.poster_path,i=e.genre_ids,c=[];i.forEach((function(e){var t=n.find((function(n){return n.id===e}));t?c.push(t.name):c.push("Unknown")}));var o=e.title,s=e.release_date,u=new Date(s).getFullYear(),d=document.createElement("div");d.classList.add("card"),d.innerHTML='\n    <li>\n  <div class="card" data-id="'.concat(a,'">\n    <div class="card-img">\n\n    <img src ="https://image.tmdb.org/t/p/original/').concat(r,'"/></div>\n    <div class="card-text">\n      <p class="card-text-title">').concat(o,'</p>\n      <p class="card-text-genre">').concat(c.join(", ")," | ").concat(u,"</p>\n    </div>\n  </div>\n</li>\n    "),t.appendChild(d)}))}L&&L.addEventListener("submit",(q=e(i)(e(c).mark((function n(t){var a,r,i,o,s;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N.innerHTML=" ",a=document.querySelector("p.warning"),r=t.currentTarget.elements.searchQuery.value,S=r,e.prev=5,e.next=8,I(S);case 8:return i=e.sent,o=i.results,e.next=12,_();case 12:s=e.sent,r===S&&(0===i.results.length?(console.log("Nie znaleziono filmów"),a.innerText="Search result not successful. Enter the correct movie name and"):A(o,s)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.error("Wystąpił błąd:",e.t0);case 19:case"end":return e.stop()}}),n,null,[[5,16]])}))),function(e){return q.apply(this,arguments)}))}();
//# sourceMappingURL=23-projectGrupowy.fb337679.js.map
